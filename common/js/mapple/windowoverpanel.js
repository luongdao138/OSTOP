// Mapple Ajax Framework Version 3.3.12
// Copyright (c) 2014 Shobunsha Publications, Inc.
(function(){var ET="windowBackgroundColor",GE="auto",GV="objectExtend",Gr="style",Em="#000000",GZ="windowBackgroundOpacity",Qv="createEvent",GN="resize",GO="within",Gl="setOpacity",GC="floor",GR="top",Qh="center",GP="length",R="width",GH="afterCloseAction",Qd="marginRight",Ez="touchstart",EU="block",I="px",El="createDocumentPositionElement",t="bind",EP="objectClone",QN="considerScrollOffsetX",ES="considerScrollOffsetY",Gm="dispatchEvent",p="none",Q="addEventListener",EA="1px",GT="touchend",EN="fontSize",K="zIndex",b="hidden",QO="marginLeft",QM="backgroundColor",Et="scaleEffectDuration",QS="checkContent",Gz="visibility",GD="initialize",EX="Effect",EH="WindowOverPanel",EO="scrollLink",EW="duration",EC="destroy",GW="overflow",GU="click",EK="eventPointer",GB="removeEventListener",Qb="removeDocumentElement",Eu="update",Qi="loadingImg",GS="loadingTopOffset",Gg="finish",GI="eventStop",j="touches",Ef="div",Gh="scroll",GM="body",d="scrollBarHide",Gp="getStyle",EG="left",QH="browserSize",V="bindEventListener",EI="offset",Gv="childNodes",QB="backgroundClickClose",Gw="overflowX",X="display",EF="textAlign",Gu="$windowoverpanel",Gd="height",EY="afterFinish",s="panelTopOffset",QW="parentNode",QK="contentHide",QV="includeScrollBar",B="",l=true,M=MappleUtil,A=Math,Es=setTimeout,GK=clearTimeout,h=null,a=document,v=false,u=window,GX=Mapple;GX[EH]=M.createClass();M[GV](GX[EH].prototype,{initialize:function(Ge){var L=this;L.Gq=M.checkTouchBrowser();L.GF=M.checkMultiTouchBrowser();L.EB=M.checkAndroid();var k={};k[GH]=h;k[QB]=l;k.contentFontFamily=M.font;k.contentFontSize=12;k.contentFontColor=Em;k.contentPaddingOffset=[3,3,3,3];k[GW]=b;k[QM]="#ffffff";k.backgroundOpacity=1.0;k.borderWidth=0;k.borderColor=Em;k.borderRadius=B;k.boxShadow=B;k.displayDirection="y";k[Et]=0.75;k.contentVisibleEffect=l;k[K]=10000;k[s]=50;k[EO]=l;k[ET]=Em;k[GZ]=0.75;k[Qi]="img/pleasewait.gif";k[GS]=200;k[d]=v;k[QN]=!L.Gq;k[ES]=l;M[GV](k,Ge);k.position="relative";k.positionOffset=[0,0];k.horizontalPosition=EG;k.verticalPosition=GR;k.afterOpenAction=M[t](function(){L.P()},L);k.afterChangeAction=M[t](function(){L.P()},L);L[GH]=k[GH];k[GH]=M[t](function(){L.z[X]=p},L);k[K]=A.int(k[K]);k[s]=A.int(k[s]);k[GZ]=A.float(k[GZ]);k[GS]=A.int(k[GS]);if(L.Gq)k[d]=v;L.k=k;L.J=h;var Ew=a.documentMode;L.Gi=(!M.checkUndefined(u.ActiveXObject)&&(!Ew||8>Ew))?l:v;L.O=h;L.S=h;L.Gs=h;L.Go=h;L.GJ=a[GM][Gr];L.Gb=h;L.T=h;L.Ec();L.Y=p;L.r=h;L.f=M[V](L.Eh,L);L.En=M[V](L.Ed,L);L.GL=v;L.W=h;L.ER=M[V](L.Ey,L);L.Ex=M[V](L.Ek,L);L.EL=M[V](L.Ei,L);L.Ev=M[V](L.Eo,L);L.Eq=M[V](L.Er,L);L.Ga=M[V](L.Eb,L);L.ED(l);M[Q](u,"unload",M[V](L[EC],L))},ED:function(Ej){var L=this,q=(Ej)?M[Q]:M[GB];if(L.k[QB]){q(L.o,GU,L.En);q(L.y,GU,L.En);if(L.Gq){q(L.o,Ez,L.ER);q(L.o,GT,L.Ex);q(L.y,Ez,L.ER);q(L.y,GT,L.Ex);q(a,Ez,L.EL);q(a,"touchmove",L.Ev);q(a,GT,L.Eq);if(Ej){L.o[Q](GU,L.Ga,l);L.y[Q](GU,L.Ga,l)}else{L.o[GB](GU,L.Ga,l);L.y[GB](GU,L.Ga,l)}}}},Ec:function(){var L=this,n=L.k[K],Ee=a[GM],C={};C[EF]=Qh;C[R]="100%";C[EN]=EA;C[K]=n+1;C[X]=p;L.o=M[El](Ee,Ef,C);L.z=L.o[Gr];L.E=new GX.ScalePanel(L.o,L.k);C={};C[EN]=EA;C[QM]=L.k[ET];C[K]=n;C[Gz]=b;C[X]=p;L.y=M[El](Ee,Ef,C);L.e=L.y[Gr];L.Ep=L.E.getPanelElement();var U=L.Ep[Gr];U[QO]=GE;U[Qd]=GE},destroy:function(N){var L=this;if(!L[GD])return;if(L.r)L.r[Gg]();M[GB](u,GN,L.f);M[GB](u,Gh,L.f);L.ED(v);if(!N){L.E[EC]();M[Qb](L.y);M[Qb](L.o)};for(var Gf in L)if(EC!=Gf)L[Gf]=h},setContent:function(Eg){var L=this,U=M[Gp](L.o,X);L.z[X]=B;L.E.setContent(Eg);L.z[X]=U},setContentSize:function(Gn,Gc){var L=this;L.E.setContentSize(Gn,Gc)},displayPanel:function(Ge){var L=this,k={};k[s]=L.k[s];M[GV](k,Ge);L.k[s]=k[s];if(L.r)L.r[Gg]();if(v==L[QS]())return;if(l==L.k[d]&&h==L.J){var U=L.GJ;if(L.Gi){L.J=U[Gw];U[Gw]=b}else{L.J=U[GW];U[GW]=b}};L.e[X]=B;L.z[X]=B;if(L.T)L.T[X]=p;if(p==L.Y){L.Y=EU;M[Gl](L.y,0);L.e[Gz]=B;var F={};F[EW]=200;F.from=0;F.to=L.k[GZ];F[Eu]=M[t](function(Gy){M[Gl](L.y,Gy)},L);F[EY]=M[t](function(EV){L.r=h},L);L.r=new GX[EX](F);L.S=h;L.Gs=h;L.Go=h;L.P()};M[Q](u,GN,L.f);M[Q](u,Gh,L.f);if(v==L.k[d]){if(L.O)GK(L.O);L.O=Es(M[t](L.P,L),1000)};L.E.displayPanel()},removeContent:function(){var L=this,U=M[Gp](L.o,X);L.z[X]=B;L.E.removeContent();L.z[X]=U},contentHide:function(){var L=this;L.E[QK]()},displayLoading:function(){var L=this;if(L.r)L.r[Gg]();if(l==L.k[d]&&h==L.J){var U=L.GJ;if(L.Gi){L.J=U[Gw];U[Gw]=b}else{L.J=U[GW];U[GW]=b}};L.e[X]=B;L.z[X]=B;if(!L.Gb){var C={};C[GR]=A[GC](L.k[GS]-L.k[s])+I;C[R]="100%";C[EN]=EA;C[K]=L.k[K]+1;C[EF]=Qh;L.Gb=M[El](L.o,Ef,C);L.T=L.Gb[Gr];var EZ=M.createDocumentElement(L.Gb,"img"),U=EZ[Gr];U[QO]=GE;U[Qd]=GE;EZ.src=L.k[Qi]}else{L.T[X]=B};L.E[QK]();if(p==L.Y){L.Y=EU;M[Gl](L.y,0);L.e[Gz]=B;var F={};F[EW]=200;F.from=0;F.to=L.k[GZ];F[Eu]=M[t](function(Gy){M[Gl](L.y,Gy)},L);F[EY]=M[t](function(EV){L.r=h},L);L.r=new GX[EX](F);L.S=h;L.Gs=h;L.Go=h;L.P()};M[Q](u,GN,L.f);M[Q](u,Gh,L.f);if(v==L.k[d]){if(L.O)GK(L.O);L.O=Es(M[t](L.P,L),1000)}},closePanel:function(){var L=this;if(L.r)L.r[Gg]();if(p==L.Y)return;L.E.init();if(L.T)L.T[X]=p;var F={};F[EW]=L.k[Et]*1000;F.from=L.k[GZ];F.to=0;F[Eu]=M[t](function(Gy){M[Gl](L.y,Gy)},L);F[EY]=M[t](function(EV){L.e[Gz]=b;L.e[X]=p;L.z[X]=p;if(l==L.k[d]&&h!=L.J){if(L.Gi){L.GJ[Gw]=L.J}else{L.GJ[GW]=L.J};L.J=h};L.Y=p;L.r=h;L.EJ("afterclose",L[GH])},L);L.r=new GX[EX](F);M[GB](u,GN,L.f);M[GB](u,Gh,L.f);if(L.O)GK(L.O);L.O=h},checkContent:function(){var L=this;return L.E[QS]()},getDisplay:function(){var L=this;return L.Y},Eh:function(){var L=this,F={};F[QV]=L.k[d];var g=M[QH](F);if(0==g[R]||0==g[Gd])return;F={};F.S=g;L.P(F)},P:function(Ge){var L=this,k={};k.S=h;M[GV](k,Ge);if(L.O)GK(L.O);var Ea=M[Gp](L.y,X);if(!L.Gi)L.e[X]=p;var F={};F[QV]=L.k[d];var g=(k.S)?k.S:M[QH](F);if(!L.Gi)L.e[X]=Ea;var m=M.scrollOffset(a[GM]);if(!L.k[QN])m[0]=0;if(!L.k[ES])m[1]=0;var Gx=L.E.getPanelSize(),Gn,Gc;if(g[R]>Gx[R]){Gn=A[GC](g[R]+m[0])}else{Gn=A[GC](Gx[R]+m[0])};L.e[R]=L.z[R]=Gn+I;if(L.T)L.T[R]=Gn+I;if(g[Gd]>A[GC](Gx[Gd]+L.k[s])||!L.k[EO]){Gc=A[GC](g[Gd]+m[1])}else{Gc=A[GC](Gx[Gd]+L.k[s]+m[1])};L.e[Gd]=Gc+I;var GQ=M.totalOffset(a[GM]);L.e[EG]= -GQ[0]+I;L.e[GR]= -GQ[1]+I;L.z[EG]= -GQ[0]+I;var EQ=L.k[s]-GQ[1];if(L.k[EO])EQ+=m[1];L.z[GR]=EQ+I;L.S=g;L.Gs=Gx;L.Go=m;if(v==L.k[d]&&EU==L.Y)L.O=Es(M[t](L.P,L),1000)},Ed:function(N){var L=this;if(L.r)return;if(L.Gq&&!N[Gu])return;var Z=M[EK](N);if(l==M[GO](L.Ep,Z[0],Z[1]))return;L.closePanel()},Ey:function(N){var L=this;L.GL=l},Ek:function(N){var L=this;if(L.GF&&0!=N[j][GP])return;L.GL=v},Ei:function(N){var L=this;if(L.GL){M[GI](N);if(!L.W){L.W={};if(a[Qv]){L.W.GA=M[EP](N[j][0]);L.W.w=M[EP](N[j][0])}}else if(L.GF&&1<N[j][GP]){L.W.GA=h;L.W.w=h}}},Eo:function(N){var L=this;if(L.W){M[GI](N);if(L.W.w){var GA=L.W.GA;if(15<A.abs(GA.pageX-N[j][0].pageX)||15<A.abs(GA.pageY-N[j][0].pageY)){L.W.GA=h;L.W.w=h}else{L.W.w=M[EP](N[j][0])}}}},Er:function(N){var L=this;if(L.W){M[GI](N);if(L.GF&&0!=N[j][GP])return;var w=L.W.w;L.W=h;if(w){var D=N.target;if(L.EB){var F={};F[EI]=15;var Z=M[EK](N),GY=D[QW];while(GY){if(M[GO](GY,Z[0],Z[1],F)&&GY[Gm]){D=GY;GY=D[QW]}else{GY=h}};var H=D[Gv][GP];if(H){var Z=M[EK](N);while(H){var x,n,c,G;x=n=h;F[EI]=0;for(var i=H-1;i>=0;i--){c=D[Gv][i];if(M[GO](c,Z[0],Z[1],F)&&c[Gm]){G=M[Gp](c,K);if(!x||(G&&(!n||G>n))){x=c;n=G}}};if(!x){F[EI]=15;for(var i=H-1;i>=0;i--){c=D[Gv][i];if(M[GO](c,Z[0],Z[1],F)&&c[Gm]){G=M[Gp](c,K);if(!x||(G&&(!n||G>n))){x=c;n=G}}}};if(x&&b!=M[Gp](x,Gz)){D=x;H=D[Gv][GP]}else{H=0}}}};var Gk=a[Qv]("MouseEvents");Gk.initMouseEvent(GU,l,l,u,0,w.screenX,w.screenY,w.clientX,w.clientY,v,v,v,v,0,h);Gk.$create=l;Gk[Gu]=l;D[Gm](Gk)}}},Eb:function(N){if(!N[Gu])M[GI](N)},EJ:function(Gj,EM){var L=this;if(EM){EM();if(!L[GD])return};var Gt=L.getHndlers(Gj);if(Gt){var N=new GX.Event(Gj);N["windowoverpanel"]=L;N["content"]=L.E.getContent();for(var i=0;i<Gt[GP];i++){Gt[i](N);if(!L[GD])return}}}})})()
